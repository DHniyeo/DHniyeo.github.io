---
layout: post
date: 2024-04-12
title: "[BOJ-Code] 23291 - ì–´í•­ ì •ë¦¬"
tags: [Algorithm-êµ¬í˜„, Samsung-Coding]
categories: [Samsungê¸°ì¶œ, CodingTest]
---

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/23291)


> ğŸ’¡ êµ¬í˜„/ì‹œë®¬ë ˆì´ì…˜


> **Memory   2036KB                                   Time   0ms                               Code Length   4300B**



{% raw %}
```c++
//ì…ë ¥  N, K
//ë¬¼ê³ ê¸°ìˆ˜ê°€ ê°€ì¥ ì™¼ìª½ ì–´í•­ë¶€í„° ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§.
//
//ì¶œë ¥ : ë¬¼ê³ ê¸°ê°€ ê°€ì¥ ë§ì´ ë“  ì–´í•­ê³¼ ê°€ì¥ ì ê²Œ ë“  ì–´í•­ì˜ ë¬¼ê³ ê¸°ìˆ˜ ì°¨ì´ê°€ kì´í•˜ê°€ ë˜ê²Œ í•˜ë ¤ë©´ ëª‡ë²ˆ ì •ë¦¬ í•´ì•¼í•˜ëŠ”ì§€ ì¶œë ¥





#include <iostream>
#include <deque>
using namespace std;

int N, K;
struct loc {
	int y, x;
};
int h, w; // ê³µì¤‘ì— ëœ¨ëŠ” ì–´í•­ ë†’ì´ ë„ˆë¹„
deque<int> dq[100];

void init() {
	cin >> N >> K;
	for (int i = 0; i < N; i++) {
		int fish_num;
		cin >> fish_num;
		dq[0].push_back(fish_num);
	}
	h = 1; w = 1;
}
void printdq() {
	cout << endl;
	for (int i = N - 1; i >= 0; i--) {
		for (int j = 0; j < dq[i].size(); j++) {
			cout << dq[i][j] << " ";
		}
		cout << endl;
	}
}
void put_rotate() {
	int rotate[100][100] = { 0 };
	for (int i = 0; i < h; i++) { // ë’¤ì§‘íŒ ì±„ë¡œ ì‹œê³„ë°©í–¥ 90ë„ ëŒë¦¬ê¸°
		for (int j = 0; j < w; j++) {
			rotate[j][h - 1 - i] = dq[i][j];
		}
	}
	for (int i = 0; i < h; i++) {
		for (int j = 0; j < w; j++) {
			dq[i].pop_front();
		}
	}
	int tmp = h;
	h = w;
	w = tmp;
	for (int i = 0; i < h; i++) { // ë’¤ì§‘ì–´ì„œ ë„£ì–´ì£¼ê¸°
		for (int j = 0; j < w; j++) {
			dq[h - i].push_front(rotate[i][j]);
		}
	}
	h++;
}
void put_rotate2() {
	w = N / 2;
	for (int i = 0; i < w; i++) {
		dq[1].push_front(dq[0][i]);
	}
	for (int i = 0; i < w; i++) {
		dq[0].pop_front();
	}
	h = 2;
	w = N / 4;
	for (int i = 0; i < w; i++) {
		dq[3].push_front(dq[0][i]);
		dq[2].push_front(dq[1][i]);
	}
	for (int i = 0; i < w; i++) {
		dq[0].pop_front();
		dq[1].pop_front();
	}
	h = 4;


}
void fish_mediate() {
	// ì¸ì ‘ ì–´í•­ì— ëŒ€í•´ ë¬¼ê³ ê¸° ì°¨ë¥¼ êµ¬í•˜ê³  ì°¨ì´ë¥¼ 5ë¡œ ë‚˜ëˆˆ ëªªì„ dë¼ í• ë•Œ ìˆ«ìê°€ í°ìª½ì—ì„œ ì‘ì€ ìª½ìœ¼ë¡œ ë¬¼ê³ ê¸° ë³´ëƒ„
	int fish_map[100][100] = { 0 };
	int dy[] = { -1, 0, 1, 0 };
	int dx[] = { 0,-1, 0,1 };
	for (int i = 0; i < h; i++) { // ë°°ì—´ì— ì˜®ê²¨ ë‹´ê¸°
		for (int j = 0; j < dq[i].size(); j++) {
			fish_map[i][j] = dq[i][j];
		}
	}
	int new_fish_map[100][100] = { 0 };
	for (int i = 0; i < h; i++) { // ë°°ì—´ì— ì˜®ê²¨ ë‹´ê¸°
		for (int j = 0; j < dq[i].size(); j++) {
			int now = fish_map[i][j];
			for (int k = 0; k < 4; k++) {
				int ny = i + dy[k];
				int nx = j + dx[k];
				if (ny >= N || nx >= N || ny < 0 || nx < 0) continue;
				if (fish_map[ny][nx] == 0) continue;
				int gap = now - fish_map[ny][nx];
				if (gap < 0) {
					// fish_map[ny][nx] ê°€ í° ê²½ìš°
					gap *= -1;
					gap /= 5;
					// ë‘ë²ˆ ì‘ì—… í•  í•„ìš” ì—†ìŒ.
					//new_fish_map[ny][nx] -= gap;
					//new_fish_map[i][j] += gap;
				}
				else {
					// í˜„ì¬ ì¹¸ ì´ ë” í° ê²½ìš°
					gap /= 5;
					new_fish_map[i][j] -= gap;
					new_fish_map[ny][nx] += gap;
				}
			}
			new_fish_map[i][j] += now;
		}
	}
	for (int i = 0; i < h; i++) { // ë°°ì—´ì— ì˜®ê²¨ ë‹´ê¸°
		for (int j = 0; j < dq[i].size(); j++) {
			dq[i][j] = new_fish_map[i][j];
		}
	}
}
void down_dq() {
	deque<int> tmp;
	for (int i = 0; i < w; i++) { // ì—­ìˆœìœ¼ë¡œ ë¹¼ê³ 
		for (int j = 0; j < h; j++) {
			tmp.push_front(dq[j][i]);
		}
	}
	for (int i = 0; i < h; i++) {
		for (int j = 0; j < w; j++) {
			dq[i].pop_front();
		}
	}
	for (int i = 0; i < w*h; i++) {
		dq[0].push_front(tmp[i]); // ì—­ìˆœìœ¼ë¡œ ë„£ê¸°
	}

	h = 1; w = 1;
}
int gapfish() {
	int min = 1e9;
	int max = 0;
	for (int i = N - 1; i >= 0; i--) {
		for (int j = 0; j < dq[i].size(); j++) {
			if (min > dq[i][j]) min = dq[i][j];
			if (max < dq[i][j]) max = dq[i][j];
		}
	}
	return max - min;
}
int main() {

	init();
	int times = 0;
	while (K < gapfish()) {
		// ë¬¼ê³ ê¸° ì‘ì€ ì–´í•­ì— í•œë§ˆë¦¬ ë„£ê¸°
		int min = 1e9;
		for (int i = 0; i < N; i++) {
			if (min > dq[0][i] && dq[0][i] > 0) {
				min = dq[0][i];
			}
		}
		for (int i = 0; i < N; i++) {
			if (min == dq[0][i]) {
				dq[0][i]++;
			}
		}
		// ë§¨ ì™¼ìª½ì¹¸ ì–´í•­ ìŒ“ê¸°
		while (dq[0].size() - w >= h) { // ìŒ“ì•„ ì˜¬ë¦´ ê³µê°„ì´ í•´ë‹¹ ë†’ì´ë³´ë‹¤ ì¶©ë¶„í• ë•Œ ê¹Œì§€ ëŒë¦¬ê¸°
			put_rotate();
		}
		// ë¬¼ê³ ê¸° ì¡°ì ˆ ì‘ì—…
		fish_mediate();
		// ë¬¼ê³ ê¸° ì–´í•­ ë‚´ë¦¬ê¸°
		down_dq();
		//printdq();
		// n/2ê°œë¥¼ ê³µì¤‘ ë¶€ì–‘ í›„ ì–´í•­ì˜¬ë¦¬ê¸° 2ë²ˆ
		put_rotate2();
		//printdq();
		// ë¬¼ê³ ê¸° ì¡°ì ˆì‘ì—…
		fish_mediate();
		//printdq();
		// ë¬¼ê³ ê¸° ì–´í•­ ë‚´ë¦¬ê¸°
		down_dq();
		//printdq();
		times++;
	}
	cout << times << endl;
}
```
{% endraw %}



ì´ ì½”ë“œëŠ” ì£¼ì–´ì§„ ì–´í•­ì— ìˆëŠ” ë¬¼ê³ ê¸°ë“¤ì„ ì •í•´ì§„ ì¡°ê±´ì— ë”°ë¼ ì •ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.

ë¬¼ê³ ê¸° ìˆ˜ê°€ ê°€ì¥ ë§ì´ ë“  ì–´í•­ê³¼ ê°€ì¥ ì ê²Œ ë“  ì–´í•­ì˜ ë¬¼ê³ ê¸° ìˆ˜ ì°¨ì´ê°€ K ì´í•˜ê°€ ë˜ë„ë¡ ëª‡ ë²ˆì˜ ì •ë¦¬ë¥¼ í•´ì•¼í•˜ëŠ”ì§€ ì¶œë ¥í•œë‹¤.

ì´ˆê¸°ì—ëŠ” ë¬¼ê³ ê¸° ìˆ˜ê°€ ê°€ì¥ ì™¼ìª½ ì–´í•­ë¶€í„° ì£¼ì–´ì§€ê³ , ì–´í•­ì˜ ë†’ì´ì™€ ë„ˆë¹„ë¥¼ ì„¤ì •í•œë‹¤.

ì£¼ìš” í•¨ìˆ˜ë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤:
- put_rotate(): ì–´í•­ì„ ë’¤ì§‘ì–´ ì‹œê³„ë°©í–¥ìœ¼ë¡œ 90ë„ ëŒë¦¬ê³  ë‹¤ì‹œ ë’¤ì§‘ì–´ì„œ ë„£ëŠ”ë‹¤.
- put_rotate2(): ì–´í•­ì„ íŠ¹ì • ë°©ì‹ìœ¼ë¡œ ë’¤ì§‘ì–´ì„œ ë„£ëŠ”ë‹¤.
- fish_mediate(): ì¸ì ‘ ì–´í•­ì˜ ë¬¼ê³ ê¸° ì°¨ì´ë¥¼ ê³„ì‚°í•˜ì—¬ ë¬¼ê³ ê¸°ë¥¼ ë³´ë‚´ê³  ë°›ëŠ”ë‹¤.
- down_dq(): ì–´í•­ì„ ì—­ìˆœìœ¼ë¡œ ë¹¼ê³  ë‹¤ì‹œ ì—­ìˆœìœ¼ë¡œ ë„£ì–´ì„œ ë‚´ë¦¬ëŠ” ë™ì‘ì„ í•œë‹¤.
- gapfish(): ì–´í•­ì— ìˆëŠ” ë¬¼ê³ ê¸° ì¤‘ ê°€ì¥ ë§ì´ ë“  ì–´í•­ê³¼ ê°€ì¥ ì ê²Œ ë“  ì–´í•­ì˜ ë¬¼ê³ ê¸° ìˆ˜ ì°¨ì´ë¥¼ ë°˜í™˜í•œë‹¤.

main() í•¨ìˆ˜ì—ì„œëŠ” ì´ˆê¸°í™”ë¥¼ í•œ í›„, ì£¼ì–´ì§„ ì¡°ê±´ì— ë”°ë¼ ë¬¼ê³ ê¸°ë¥¼ ì •ë¦¬í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•˜ë©°, ì •ë¦¬ë¥¼ í•´ì•¼í•˜ëŠ” íšŸìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.


---
layout: post
date: 2024-04-06
title: "[BOJ-Code] 23289 - ì˜¨í’ê¸° ì•ˆë…•!"
tags: [Algorithm-êµ¬í˜„, Samsung-Coding, ]
categories: [Samsungê¸°ì¶œ, CodingTest, ]
---

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/23289)


> ğŸ’¡ êµ¬í˜„/ì‹œë®¬ë ˆì´ì…˜


> **Memory   2652KB                                   Time   20ms                               Code Length   4592B**


```c++
//1. ì§‘ì— ìˆëŠ” ëª¨ë“  ì˜¨í’ê¸°ì—ì„œ ë°”ëŒì´ í•œ ë²ˆ ë‚˜ì˜´
//2. ì˜¨ë„ê°€ ì¡°ì ˆë¨
//3. ì˜¨ë„ê°€ 1 ì´ìƒì¸ ê°€ì¥ ë°”ê¹¥ìª½ ì¹¸ì˜ ì˜¨ë„ê°€ 1ì”© ê°ì†Œ
//4. ì´ˆì½œë¦¿ì„ í•˜ë‚˜ ë¨¹ëŠ”ë‹¤
//5. ì¡°ì‚¬í•˜ëŠ” ëª¨ë“  ì¹¸ì˜ ì˜¨ë„ê°€ K ì´ìƒì´ ë˜ì—ˆëŠ”ì§€ ê²€ì‚¬.ëª¨ë“  ì¹¸ì˜ ì˜¨ë„ê°€ Kì´ìƒì´ë©´ í…ŒìŠ¤íŠ¸ë¥¼ ì¤‘ë‹¨í•˜ê³ , ì•„ë‹ˆë©´ 1ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•œë‹¤.
#include<iostream>
#include<cstring>
#include<queue>
using namespace std;

int R, C, K ,W;

int room[20][20] = {0};
int temperature[20][20] = { 0 };
int wall[20][20][20][20] = {0}; // ì‹œì‘ y,x ë y, x

int hotdy[5][3] = { {},{-1,0,1},{-1,0,1},{-1,-1,-1},{1,1,1} };
int hotdx[5][3] = { {},{1,1,1},{-1,-1,-1},{-1,0,1},{-1,0,1} };

int dy[] = {0,0,0,-1,1};
int dx[] = {0,1,-1,0,0};
// 1 : ì˜¤ë¥¸ìª½
// 2 : ì™¼ìª½
// 3 : ìœ„ìª½
// 4 : ì•„ë˜ìª½

struct info_queue {
	int y, x, cnt;
};

void init() {

	memset(room, 0, sizeof(room));
	memset(temperature, 0, sizeof(temperature));
	memset(wall, 0, sizeof(wall));

	cin >> R >> C >> K;
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++) {
			cin >> room[i][j];
		}
	}
	cin >> W;
	for (int i = 0; i < W; i++){
		int x, y, t;
		cin >> x >> y >> t;
		x--; y--;
		if (t == 0) {
			wall[x][y][x - 1][y] = 1;
			wall[x-1][y][x][y] = 1;
		}
		else {
			wall[x][y][x][y+1] = 1;
			wall[x][y+1][x][y] = 1;
		}
	}
}
void bfs(int y, int x) {
	int tmp_temperature[20][20] = { 0 };
	int starty = y + dy[room[y][x]];
	int startx = x + dx[room[y][x]];
	queue<info_queue> q;
	q.push({ starty,startx,5 });
	int visited[20][20] = { 0 };
	while (!q.empty()) {
		info_queue now = q.front(); q.pop();
		if (now.cnt == 0) break;
		tmp_temperature[now.y][now.x] = now.cnt;

		for (int i = 0; i < 3; i++) {
			int ny = now.y + hotdy[room[y][x]][i];
			int nx = now.x + hotdx[room[y][x]][i];
			if (ny >= R || nx >= C || ny < 0 || nx < 0)continue;
			if (visited[ny][nx] == 1) continue;
			if (i == 1) { // ì§ì„ ë°©í–¥ì¼ë•Œ
				if (wall[now.y][now.x][ny][nx] == 1)continue; // ê°ˆë ¤ëŠ” ì§€ì ì´ ë²½ìœ¼ë¡œ ë§‰í˜€ìˆë‹¤ë©´
			}
			else { // ëŒ€ê°ì„ ë°©í–¥ ì¼ë•Œ
				// í˜„ì¬ìœ„ì¹˜ë¡œ ì˜¤ê¸°ì „ ì§€ì  ì°¾ê¸° (ì§ì§„ì§€ì )
				int tmpy = now.y - dy[room[y][x]];
				int tmpx = now.x - dx[room[y][x]];
				// ê±°ì³ê°€ì§€ëŠ” ì§€ì  ì°¾ê¸°
				int throwy = tmpy + hotdy[room[y][x]][i];
				int throwx = tmpx + hotdx[room[y][x]][i];
				if (wall[now.y][now.x][throwy][throwx] == 1) continue; // ë‘ ì§€ì  ì¤‘ í•˜ë‚˜ë¼ë„ ë§‰í˜€ìˆë‹¤ë©´
				if (wall[throwy][throwx][ny][nx] == 1) continue;
			}
			visited[ny][nx] = 1;
			q.push({ ny,nx,now.cnt - 1 });
		}
	}
	
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++) {
			temperature[i][j] += tmp_temperature[i][j];
		}
	}
}
void hotMachine() {
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++) {
			if (room[i][j] > 0 && room[i][j] < 5) { // 1 ~ 4
				bfs(i, j);
			}
		}
	}
}

void TempMediate() {
	int tmp_temperature[20][20] = { 0 };
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++) {
			int now = temperature[i][j];
			if (now == 0) continue;

			int lowtemp = 0;
			for (int k = 1; k <= 4; k++) {
				int ny = i + dy[k];
				int nx = j + dx[k];
				if (ny >= R || nx >= C || ny < 0 || nx < 0)continue;
				if (temperature[ny][nx] >= now) continue;
				if (wall[i][j][ny][nx] == 1) continue;
				int mediV = (now - temperature[ny][nx])/4; // ì¡°ì •í•´ì•¼í•˜ëŠ” ê°’
				tmp_temperature[ny][nx] += mediV; // ì˜¨ë„ ì˜®ê²¨ì£¼ê¸°
				lowtemp += mediV;
			}
			tmp_temperature[i][j] += (temperature[i][j] - lowtemp);
		}
	}
	memcpy(temperature, tmp_temperature, sizeof(temperature));
}

void outSideTempminus() {
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++) {
			if (i == 0 || j == 0 || i == R - 1 || j == C - 1) {
				if (temperature[i][j] > 0) {
					temperature[i][j]--;
				}
			}
		}
	}
}

bool checkmap() {
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++) {
			if (room[i][j] == 5 && temperature[i][j] < K) return false;
		}
	}
	return true;
}
int main() {


	init();
	int choco = 0;
	while (1) {

		//1. ì§‘ì— ìˆëŠ” ëª¨ë“  ì˜¨í’ê¸°ì—ì„œ ë°”ëŒì´ í•œ ë²ˆ ë‚˜ì˜´
		hotMachine();
		//2. ì˜¨ë„ê°€ ì¡°ì ˆë¨
		TempMediate();
		//3. ì˜¨ë„ê°€ 1 ì´ìƒì¸ ê°€ì¥ ë°”ê¹¥ìª½ ì¹¸ì˜ ì˜¨ë„ê°€ 1ì”© ê°ì†Œ
		outSideTempminus();
		//4. ì´ˆì½œë¦¿ì„ í•˜ë‚˜ ë¨¹ëŠ”ë‹¤
		choco++;
		if (choco > 100) {
			choco = 101;
			break;
		}
		//5. ì¡°ì‚¬í•˜ëŠ” ëª¨ë“  ì¹¸ì˜ ì˜¨ë„ê°€ K ì´ìƒì´ ë˜ì—ˆëŠ”ì§€ ê²€ì‚¬.ëª¨ë“  ì¹¸ì˜ ì˜¨ë„ê°€ Kì´ìƒì´ë©´ í…ŒìŠ¤íŠ¸ë¥¼ ì¤‘ë‹¨í•˜ê³ , ì•„ë‹ˆë©´ 1ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•œë‹¤.
		if (checkmap()) {
			break;
		}
	}
	cout << choco << endl;

}
```


ì´ ì½”ë“œëŠ” ì£¼ì–´ì§„ ì¡°ê±´ì— ë”°ë¼ ì˜¨í’ê¸°ê°€ ì‘ë™í•˜ê³  ì˜¨ë„ê°€ ì¡°ì ˆë˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ì„ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.

ë¨¼ì € ì´ˆê¸°í™”ë¥¼ ìˆ˜í–‰í•˜ê³  ì§‘ì˜ êµ¬ì¡°ì™€ ì˜¨ë„, ë²½ì˜ ìœ„ì¹˜ ë“±ì„ ì…ë ¥ë°›ëŠ”ë‹¤.

hotMachine í•¨ìˆ˜ì—ì„œëŠ” ê° ì˜¨í’ê¸°ì˜ ìœ„ì¹˜ì—ì„œ bfsë¥¼ í†µí•´ ë°”ëŒì´ ë‚˜ì˜¤ëŠ” ì‹œë®¬ë ˆì´ì…˜ì„ ìˆ˜í–‰í•œë‹¤.

TempMediate í•¨ìˆ˜ì—ì„œëŠ” ì˜¨ë„ë¥¼ ì¡°ì ˆí•˜ëŠ”ë°, ê° ì¹¸ì˜ ì˜¨ë„ë¥¼ ì¸ì ‘í•œ ì¹¸ë“¤ê³¼ ë¹„êµí•˜ì—¬ ì¡°ì ˆí•œë‹¤.

outSideTempminus í•¨ìˆ˜ì—ì„œëŠ” ì§‘ì˜ ê°€ì¥ ë°”ê¹¥ìª½ ì¹¸ì˜ ì˜¨ë„ë¥¼ 1ì”© ê°ì†Œì‹œí‚¨ë‹¤.

checkmap í•¨ìˆ˜ì—ì„œëŠ” ëª¨ë“  ì¹¸ì˜ ì˜¨ë„ê°€ ì£¼ì–´ì§„ ê°’ K ì´ìƒì¸ì§€ í™•ì¸í•œë‹¤.

main í•¨ìˆ˜ì—ì„œëŠ” ìœ„ì˜ í•¨ìˆ˜ë“¤ì„ ë°˜ë³µí•˜ë©´ì„œ ì˜¨ë„ê°€ K ì´ìƒì´ ë˜ë©´ ì¢…ë£Œí•˜ê³  ì´ˆì½œë¦¿ì„ ë¨¹ëŠ” íšŸìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤. ë§Œì•½ ì´ˆì½œë¦¿ì„ 100ë²ˆ ì´ìƒ ë¨¹ì–´ë„ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•˜ë©´ 101ì„ ì¶œë ¥í•œë‹¤.


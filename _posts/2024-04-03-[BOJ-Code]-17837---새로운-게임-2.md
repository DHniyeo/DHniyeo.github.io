---
layout: post
date: 2024-04-03
title: "[BOJ-Code] 17837 - ìƒˆë¡œìš´ ê²Œì„ 2"
tags: [Algorithm-êµ¬í˜„, Samsung-Coding, ]
categories: [Samsungê¸°ì¶œ, CodingTest, ]
---

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/17837)


> ğŸ’¡ êµ¬í˜„/ì‹œë®¬ë ˆì´ì…˜


> **Memory   2036KB                                   Time   0ms                               Code Length   4270B**


```c++
//-í„´ì´ ì§„í–‰ë˜ë˜ ë„ì¤‘ ë§ì´ 4ê°œì´ìƒ ìŒ“ì´ëŠ” ìˆœê°„ ê²Œì„ì´ ì¢…ë£Œë¨.
//- 1ë²ˆë§ë¶€í„° Kë²ˆ ë§ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì´ë™ì‹œí‚´.í•œ ë§ì´ ì´ë™í• ë•Œ ìœ„ì— ì˜¬ë ¤ì ¸ ìˆëŠ” ë§ë„ í•¨ê»˜ì´ë™.
//- ì´ë™í•˜ë ¤ëŠ” ì¹¸ì´ í°ìƒ‰ì¸ ê²½ìš° í•´ë‹¹ ì¹¸ìœ¼ë¡œ ì´ë™.ì´ë™í•˜ë ¤ëŠ” ì¹¸ì— ë§ì´ ì´ë¯¸ ìˆëŠ” ê²½ìš° ê°€ì¥ ìœ„ì— ë§ì„ ì˜¬ë ¤ë†“ìŒ.
//- ì´ë™í•˜ë ¤ëŠ” ì¹¸ì´ ë¹¨ê°„ìƒ‰ì¸ê²½ìš° ì´ë™í›„ì— Aë²ˆë§ê³¼ ê·¸ìœ„ì— ìˆëŠ” ëª¨ë“ ë§ì˜ ìŒ“ì—¬ìˆëŠ” ìˆœì„œë¥¼ ë°˜ëŒ€ë¡œ ë°”ê¾¼ë‹¤.ì˜®ê¸°ê¸°ì „ì˜ ë§ë“¤ë§Œ ìˆœì„œë¥¼ ë°”ê¿”ì„œ ìŒ“ëŠ”ë‹¤.
//- ì´ë™í•˜ë ¤ëŠ” ì¹¸ì´ íŒŒë€ìƒ‰ì¸ê²½ìš° Aë²ˆ ë§ì˜ ì´ë™ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ í•˜ê³  í•œì¹¸ ì´ë™í•œë‹¤.ë°©í–¥ì„ ë°˜ëŒ€ë¡œ ë°”ê¾¼í›„ì— ì´ë™í•˜ë ¤ëŠ” ì¹¸ì´ íŒŒë€ìƒ‰ì¸ê²½ìš° ê°€ë§Œíˆ ìˆëŠ”ë‹¤.
//- ì²´ìŠ¤íŒì„ ë²—ì–´ë‚œ ê²½ìš°ëŠ” íŒŒë€ìƒ‰ê³¼ ê°™ì€ê²½ìš°ì´ë‹¤.
// ê²Œì„ì´ ì¢…ë£Œ ë˜ëŠ” í„´ ìˆ˜ë¥¼ êµ¬í•˜ê³  1000ë³´ë‹¤ í¬ë©´ -1ì„ ì¶œë ¥

#include <iostream>
#include <vector>
#include <deque>
using namespace std;
int color_map[12][12];
int N, K;
int flag = 0;

// ì˜¤ ì™¼ ìœ„ ì•„ë˜
const int dy[] = { 0 , 0 , -1, 1 };
const int dx[] = { 1 , -1 , 0, 0 };

struct info {
	int y, x, dir;
};
vector<info> vc;
deque<int> dq[12][12];

void init() {
	flag = 0;
	vc.clear();
	cin >> N >> K;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			cin >> color_map[i][j];
		}
	}
	for (int i = 0; i < K; i++) {
		int y, x, dir;
		cin >> y >> x >> dir;
		vc.push_back({ y - 1,x - 1,dir - 1 });
		dq[y - 1][x - 1].push_back(i);
	}
}

void whitetile_move(int num) {
	info now = vc[num];
	int ny = now.y + dy[now.dir];
	int nx = now.x + dx[now.dir];
	int size = dq[now.y][now.x].size();

	int now_index = 0;
	for (int i = 0; i < size; i++) {
		if (dq[now.y][now.x][i] == num) { // í˜„ì¬ ì²´ìŠ¤ë§ ìœ„ì¹˜ ì°¾ê¸°
			now_index = i;
			break;
		}
	}
	for (int i = now_index; i < size; i++) {
		int chessnum = dq[now.y][now.x][i];
		dq[ny][nx].push_back(chessnum); // ìˆœì„œëŒ€ë¡œ ìŒ“ê¸°
		// ë²¡í„° ìµœì‹ í™”
		vc[chessnum].y = ny;
		vc[chessnum].x = nx;
	}
	int move_cnt = size - now_index; // ì˜®ê²¨ì•¼ ë˜ëŠ” íšŸìˆ˜
	while (move_cnt--) { // ê¸°ì¡´ì— ìˆë˜ ìœ„ì¹˜ì—ì„œ ì‚­ì œ
		dq[now.y][now.x].pop_back();
	}
	if (4 <= dq[ny][nx].size()) flag = 1;
}
void redtile_move(int num) {
	info now = vc[num];
	int ny = now.y + dy[now.dir];
	int nx = now.x + dx[now.dir];
	int size = dq[now.y][now.x].size();

	int now_index = 0;
	for (int i = 0; i < size; i++) {
		if (dq[now.y][now.x][i] == num) { // í˜„ì¬ ì²´ìŠ¤ë§ ìœ„ì¹˜ ì°¾ê¸°
			now_index = i;
			break;
		}
	}
	for (int i = size - 1; i >= now_index; i--) {
		int chessnum = dq[now.y][now.x][i];
		dq[ny][nx].push_back(chessnum); // ìˆœì„œëŒ€ë¡œ ìŒ“ê¸°
		// ë²¡í„° ìµœì‹ í™”
		vc[chessnum].y = ny;
		vc[chessnum].x = nx;
	}
	int move_cnt = size - now_index; // ì˜®ê²¨ì•¼ ë˜ëŠ” íšŸìˆ˜
	while (move_cnt--) { // ê¸°ì¡´ì— ìˆë˜ ìœ„ì¹˜ì—ì„œ ì‚­ì œ
		dq[now.y][now.x].pop_back();
	}
	// ìŒ“ì€ í›„ ì²´í¬
	if (4 <= dq[ny][nx].size()) flag = 1;
}
void bluetile_move(int num) {
	// ë°©í–¥ ì „í™˜í•˜ê¸°.
	if (vc[num].dir == 0) vc[num].dir = 1;
	else if (vc[num].dir == 1) vc[num].dir = 0;
	else if (vc[num].dir == 2) vc[num].dir = 3;
	else if (vc[num].dir == 3) vc[num].dir = 2;

	info now = vc[num];
	int ny = now.y + dy[now.dir];
	int nx = now.x + dx[now.dir];

	if (ny >= N || nx >= N || ny < 0 || nx < 0) return;
	else if (color_map[ny][nx] == 2) return;
	else if (color_map[ny][nx] == 1) { // ë¹¨ê°„ìƒ‰ íƒ€ì¼
		redtile_move(num);
	}
	else if (color_map[ny][nx] == 0) { // í°ìƒ‰ íƒ€ì¼
		whitetile_move(num);
	}
}

void move_chess(int num) {
	info now = vc[num];
	int ny = now.y + dy[now.dir];
	int nx = now.x + dx[now.dir];

	if (ny >= N || nx >= N || ny < 0 || nx < 0) { // íŒŒë€ìƒ‰ íƒ€ì¼
		bluetile_move(num);
	}
	else if (color_map[ny][nx] == 2) { // íŒŒë€ìƒ‰ íƒ€ì¼
		bluetile_move(num);
	}
	else if (color_map[ny][nx] == 1) { // ë¹¨ê°„ìƒ‰ íƒ€ì¼
		redtile_move(num);
	}
	else if (color_map[ny][nx] == 0) { // í°ìƒ‰ íƒ€ì¼
		whitetile_move(num);
	}
}

int gamestart() {
	int times = 0;
	while (1) {

		times++;
		for (int i = 0; i < K; i++) {
			move_chess(i);
			if (flag == 1) return times;
		}

		if (times > 1000) {
			times = -1;
			break;
		}
	}
	return times;
}
int main() {
	init();

	cout << gamestart() << endl;
}
```


ì´ ì½”ë“œëŠ” ì²´ìŠ¤íŒ ìœ„ì— ë§ì„ ì›€ì§ì´ëŠ” ê²Œì„ì„ êµ¬í˜„í•œ ê²ƒì´ë‹¤.

- ë¨¼ì €, ì²´ìŠ¤íŒì˜ í¬ê¸°ì™€ ë§ì˜ ê°œìˆ˜ë¥¼ ì…ë ¥ë°›ê³ , ê° ì¹¸ì˜ ìƒ‰ê¹”ê³¼ ë§ì˜ ì´ˆê¸° ìœ„ì¹˜ì™€ ë°©í–¥ì„ ì„¤ì •í•œë‹¤.

- ê²Œì„ì€ ê° í„´ë§ˆë‹¤ 1ë²ˆ ë§ë¶€í„° Kë²ˆ ë§ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì´ë™í•œë‹¤. ì´ë™í•  ë•ŒëŠ” í•´ë‹¹ ì¹¸ì˜ ìƒ‰ê¹”ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤:
- í°ìƒ‰ì¼ ê²½ìš°: í•´ë‹¹ ì¹¸ìœ¼ë¡œ ì´ë™í•˜ê³ , ì´ë¯¸ ë§ì´ ìˆëŠ” ê²½ìš° ê·¸ ìœ„ì— ì˜¬ë ¤ë†“ëŠ”ë‹¤.
- ë¹¨ê°„ìƒ‰ì¼ ê²½ìš°: í•´ë‹¹ ì¹¸ìœ¼ë¡œ ì´ë™í•œ í›„, Aë²ˆ ë§ê³¼ ê·¸ ìœ„ì— ìˆëŠ” ë§ë“¤ì˜ ìˆœì„œë¥¼ ë°˜ëŒ€ë¡œ ë°”ê¾¼ë‹¤.
- íŒŒë€ìƒ‰ì¼ ê²½ìš°: Aë²ˆ ë§ì˜ ì´ë™ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ í•˜ê³  í•œ ì¹¸ ì´ë™í•œë‹¤. ë§Œì•½ ì´ë™í•œ ì¹¸ì´ ë˜ íŒŒë€ìƒ‰ì¼ ê²½ìš° ê°€ë§Œíˆ ìˆëŠ”ë‹¤.

- ê²Œì„ì€ ë§ì´ 4ê°œ ì´ìƒ ìŒ“ì´ëŠ” ìˆœê°„ ì¢…ë£Œëœë‹¤. ì¢…ë£Œë˜ëŠ” í„´ ìˆ˜ë¥¼ êµ¬í•˜ê³ , 1000ë³´ë‹¤ í¬ë‹¤ë©´ -1ì„ ì¶œë ¥í•œë‹¤.

- ì´ë¥¼ ìœ„í•´ ê° ë§ì˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ì¡°ì²´ì™€ ë±ì„ ì‚¬ìš©í•˜ì—¬ ë§ì˜ ì´ë™ì„ êµ¬í˜„í•˜ê³ , ê²Œì„ì„ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ˆê¸°í™” í•¨ìˆ˜ì™€ ê²Œì„ì„ ì‹œì‘í•˜ëŠ” main í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆë‹¤.


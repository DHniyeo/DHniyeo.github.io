---
layout: post
date: 2024-04-03
title: "[BOJ-Code] 17142 - ì—°êµ¬ì†Œ 3"
tags: [Algorithm-DFS/BFS, Samsung-Coding, Algorithm-êµ¬í˜„, Algorithm-ë¸Œë£¨íŠ¸ í¬ìŠ¤, ]
categories: [Samsungê¸°ì¶œ, CodingTest, ]
---

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/17142)


> ğŸ’¡ ë„ˆë¹„ ìš°ì„  íƒìƒ‰/ë¸Œë£¨íŠ¸í¬ìŠ¤ ì•Œê³ ë¦¬ì¦˜/ê·¸ë˜í”„ ì´ë¡ /ê·¸ë˜í”„ íƒìƒ‰


> **Memory   2036KB                                   Time   16ms                               Code Length   3067B**



{% raw %}
```c++
#include<iostream>
#include<cstring>
#include<vector>
#include<queue>
using namespace std;
// Mê°œë¥¼ í™œì„± ìƒíƒœë¡œ ë³€ê²½í•˜ë ¤ê³ í•¨ => dfsë¡œ í™œì„±í™” í•  ë°”ì´ëŸ¬ìŠ¤ ì„ íƒ
// 0 ë¹ˆì¹¸, 1ì€ ë²½, 2ëŠ” ë°”ì´ëŸ¬ìŠ¤
// í™œì„±í™”ëœ ë°”ì´ëŸ¬ìŠ¤ê°€ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ ì¹¸ìœ¼ë¡œ ì´ë™ì‹œ í™œì„±ìœ¼ë¡œ ë³€í•¨. => ì‚¬ì‹¤ìƒ ìƒê´€ì—†ìŒ. ë°”ì´ëŸ¬ìŠ¤ê°€ ì´ë¯¸ í¼ì ¸ìˆëŠ”ê±¸ë¡œ ì¸ì •.
// ìµœì†Œì‹œê°„ êµ¬í•˜ê¸°. ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì „ë¶€ í¼íŠ¸ë¦´ ìˆ˜ ì—†ë‹¤ë©´ -1 ë°˜í™˜.

int N, M;
int map[50][50];
char spread_map[50][50];
int choosedVirus[10] = {};
int result = -1;
struct info {
	int y, x;
};
vector <info> vc;

void init() {
	cin >> N >> M;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			cin >> map[i][j];
			if (map[i][j] == 2) {
				vc.push_back({ i,j });
			}
		}
	}
}

bool findEmpty() { // ë¹ˆê³µê°„ ì°¾ê¸°
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			if (spread_map[i][j] == '#') { // ë¹ˆê³µê°„ì´ ìˆëŠ”ê²½ìš°
				return true;
			}
		}
	}
	return false;
}
int findMax(int visited[50][50]) { // ìµœëŒ“ê°’ ì°¾ê¸°
	int Max = 0;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			if (spread_map[i][j] == '*') continue;
			if (visited[i][j] > Max) {
				Max = visited[i][j];
			}
		}
	}
	return Max-1; // visited[][]ê°€ 1ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ -1ì„ í•´ì¤Œ.
}
int spreadVirus() {
	
	int visited[50][50] = {0};
	memset(spread_map,0,sizeof(spread_map));
	queue<info> q;


	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			if (map[i][j] == 0) {
				spread_map[i][j] = '#'; // ë¹ˆì¹¸ ì²˜ë¦¬
			}
			else if (map[i][j] == 1) {
				spread_map[i][j] = '-'; // ë²½
			}
			else if (map[i][j] == 2) {
				spread_map[i][j] = '*'; // ë¹„í™œì„±í™” ë°”ì´ëŸ¬ìŠ¤
			}
		}
	}

	for (int i = 0; i < vc.size(); i++) {
		if (choosedVirus[i] == 1) { // í™œì„±í™”ëœ ë°”ì´ëŸ¬ìŠ¤ í‘œì‹œ
			spread_map[vc[i].y][vc[i].x] = '0'; // í™œì„±í™” ë°”ì´ëŸ¬ìŠ¤
			q.push({ vc[i].y, vc[i].x });
			visited[vc[i].y][vc[i].x] = 1;
		}
	}
	const int dy[] = {-1,1,0,0};
	const int dx[] = {0,0,-1,1};

	while (!q.empty()) {
		info now = q.front(); q.pop();

		for (int i = 0; i < 4; i++) {
			int ny = now.y + dy[i];
			int nx = now.x + dx[i];
			if (ny >= N || nx >= N || ny < 0 || nx < 0) continue;
			if (visited[ny][nx] != 0) continue;
			if (spread_map[ny][nx] == '-') continue;
			else if (spread_map[ny][nx] == '#') {
				spread_map[ny][nx] = '0';
			}
			visited[ny][nx] = visited[now.y][now.x] + 1;
			q.push({ ny,nx });
		}
	}
	if (!findEmpty()) { // ë¹ˆê³µê°„ì´ ì—†ì„ë•Œ
		return findMax(visited);
	}
	return -1;
}
void chooseVirus(int depth, int now) {
	
	if (depth == M) {
		int tmp = spreadVirus();
		if (tmp == -1) return; // ê²°ê³¼ê°€ -1ì¸ ê²½ìš°ëŠ” ìƒê° X
		if (result == -1) result = tmp;
		else if (result > tmp){
			result = tmp;
		}
		return;
	}
	for (int i = now; i < vc.size(); i++) {
		if (choosedVirus[i] == 1) continue;
		choosedVirus[i] = 1;
		chooseVirus(depth + 1, i+1);
		choosedVirus[i] = 0;
	}
}


int main() {
	init();
	chooseVirus(0, 0);

	cout << result << endl;
	return 0;
}
```
{% endraw %}



ì´ ì½”ë“œëŠ” ì£¼ì–´ì§„ ì§€ë„ì—ì„œ ë°”ì´ëŸ¬ìŠ¤ë¥¼ í™œì„±í™”í•˜ì—¬ ìµœì†Œ ì‹œê°„ ì•ˆì— ëª¨ë“  ë¹ˆ ì¹¸ì„ ê°ì—¼ì‹œí‚¤ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.

ë¨¼ì €, ì´ˆê¸°í™” í•¨ìˆ˜(init)ì—ì„œëŠ” ì§€ë„ì˜ í¬ê¸°ì™€ ë°”ì´ëŸ¬ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.

ê·¸ í›„, í™œì„±í™”ëœ ë°”ì´ëŸ¬ìŠ¤ê°€ ì£¼ë³€ì˜ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ ì¹¸ìœ¼ë¡œ ì´ë™í•˜ë©´ í™œì„± ìƒíƒœë¡œ ë³€í•˜ëŠ”ë°, ì´ëŠ” ì½”ë“œì—ì„œëŠ” ì´ë¯¸ ë°”ì´ëŸ¬ìŠ¤ê°€ í¼ì ¸ìˆëŠ” ê²ƒìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì „ë¶€ í¼íŠ¸ë¦´ ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ëŠ” -1ì„ ë°˜í™˜í•œë‹¤.

ì£¼ìš” í•¨ìˆ˜ë¡œëŠ” spreadVirus í•¨ìˆ˜ê°€ ìˆëŠ”ë°, ì´ í•¨ìˆ˜ëŠ” ë°”ì´ëŸ¬ìŠ¤ë¥¼ í¼ëœ¨ë¦¬ëŠ” ì—­í• ì„ í•œë‹¤.

ë°”ì´ëŸ¬ìŠ¤ë¥¼ í™œì„±í™”í•  ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì„ íƒí•˜ëŠ” chooseVirus í•¨ìˆ˜ë¥¼ í†µí•´ ëª¨ë“  ê°€ëŠ¥í•œ ë°”ì´ëŸ¬ìŠ¤ ì¡°í•©ì„ íƒìƒ‰í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ ìµœì†Œ ì‹œê°„ì„ ì¶œë ¥í•œë‹¤.


---


ì²˜ìŒ ì½”ë“œë¥¼ ì‘ì„±í–ˆì„ ë•Œ, ì‹œê°„ì´ˆê³¼ê°€ ë§¤ìš° ë§ì´ ë°œìƒí–ˆë‹¤â€¦ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ëŒ€ë¶€ë¶„ ë§ì•˜ì§€ë§Œ, ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒì´ ì¼ì–´ë‚¬ë‹¤. 



{% raw %}
```c++
#include<iostream>
#include<cstring>
#include<vector>
#include<queue>
using namespace std;
// Mê°œë¥¼ í™œì„± ìƒíƒœë¡œ ë³€ê²½í•˜ë ¤ê³ í•¨ => dfsë¡œ í™œì„±í™” í•  ë°”ì´ëŸ¬ìŠ¤ ì„ íƒ
// 0 ë¹ˆì¹¸, 1ì€ ë²½, 2ëŠ” ë°”ì´ëŸ¬ìŠ¤
// í™œì„±í™”ëœ ë°”ì´ëŸ¬ìŠ¤ê°€ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ ì¹¸ìœ¼ë¡œ ì´ë™ì‹œ í™œì„±ìœ¼ë¡œ ë³€í•¨. => ì‚¬ì‹¤ìƒ ìƒê´€ì—†ìŒ. ë°”ì´ëŸ¬ìŠ¤ê°€ ì´ë¯¸ í¼ì ¸ìˆëŠ”ê±¸ë¡œ ì¸ì •.
// ìµœì†Œì‹œê°„ êµ¬í•˜ê¸°. ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì „ë¶€ í¼íŠ¸ë¦´ ìˆ˜ ì—†ë‹¤ë©´ -1 ë°˜í™˜.

int N, M;
int map[50][50];
char spread_map[50][50];
int choosedVirus[10] = {};
int result = -1;
struct info {
	int y, x;
};
vector <info> vc;

void init() {
	cin >> N >> M;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			cin >> map[i][j];
			if (map[i][j] == 2) {
				vc.push_back({ i,j });
			}
		}
	}
}

bool findEmpty() { // ë¹ˆê³µê°„ ì°¾ê¸°
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			if (spread_map[i][j] == '#') { // ë¹ˆê³µê°„ì´ ìˆëŠ”ê²½ìš°
				return true;
			}
		}
	}
	return false;
}
int findMax(int visited[50][50]) { // ìµœëŒ“ê°’ ì°¾ê¸°
	int Max = 0;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			if (visited[i][j] > Max) {
				Max = visited[i][j];
			}
		}
	}
	return Max-1; // visited[][]ê°€ 1ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ -1ì„ í•´ì¤Œ.
}
int spreadVirus() {
	
	int visited[50][50] = {0};
	memset(spread_map,0,sizeof(spread_map));
	queue<info> q;


	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			if (map[i][j] == 0) {
				spread_map[i][j] = '#'; // ë¹ˆì¹¸ ì²˜ë¦¬
			}
			else if (map[i][j] == 1) {
				spread_map[i][j] = '-'; // ë²½
			}
			else if (map[i][j] == 2) {
				spread_map[i][j] = '*'; // ë¹„í™œì„±í™” ë°”ì´ëŸ¬ìŠ¤
			}
		}
	}

	for (int i = 0; i < vc.size(); i++) {
		if (choosedVirus[i] == 1) { // í™œì„±í™”ëœ ë°”ì´ëŸ¬ìŠ¤ í‘œì‹œ
			spread_map[vc[i].y][vc[i].x] = '0'; // í™œì„±í™” ë°”ì´ëŸ¬ìŠ¤
			q.push({ vc[i].y, vc[i].x });
			visited[vc[i].y][vc[i].x] = 1;
		}
	}
	const int dy[] = {-1,1,0,0};
	const int dx[] = {0,0,-1,1};

	while (!q.empty()) {
		info now = q.front(); q.pop();
		if (!findEmpty()) { // ë¹ˆê³µê°„ì´ ì—†ì„ë•Œ
			return findMax(visited);
		}
		for (int i = 0; i < 4; i++) {
			int ny = now.y + dy[i];
			int nx = now.x + dx[i];
			if (ny >= N || nx >= N || ny < 0 || nx < 0) continue;
			if (visited[ny][nx] != 0) continue;
			if (spread_map[ny][nx] == '-') continue;
			else if (spread_map[ny][nx] == '#' || spread_map[ny][nx] == '*') {
				spread_map[ny][nx] = '0';
			}
			visited[ny][nx] = visited[now.y][now.x] + 1;
			q.push({ ny,nx });
		}
	}
	return -1;
}
void chooseVirus(int depth) {
	
	if (depth == M) {
		int tmp = spreadVirus();
		if (tmp == -1) return; // ê²°ê³¼ê°€ -1ì¸ ê²½ìš°ëŠ” ìƒê° X
		if (result == -1) result = tmp;
		else if (result > tmp){
			result = tmp;
		}
		return;
	}
	for (int i = 0; i < vc.size(); i++) {
		if (choosedVirus[i] == 1) continue;
		choosedVirus[i] = 1;
		chooseVirus(depth + 1);
		choosedVirus[i] = 0;
	}
}


int main() {
	init();
	chooseVirus(0);

	cout << result << endl;
	return 0;
}
```
{% endraw %}



ë¬¸ì œì˜ ì›ì¸ì€ ë‘ ê°€ì§€ ì˜€ë‹¤.


ì²« ë²ˆì§¸, ì¡°í•©ì„ ì½”ë”©í–ˆë‹¤ê³  ìƒê°í–ˆëŠ”ë°, ìˆœì—´ì„ ì½”ë”©í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬ ì¬ê·€ í•¨ìˆ˜ë¡œ ë“¤ì–´ì˜¤ê¸° ì „ ì¸ë±ìŠ¤ ë³´ë‹¤ ë” ì´í›„ì˜ ì¸ë±ìŠ¤ë¶€í„° ì„ íƒì„ í•˜ê²Œ ë” í•˜ì—¬ ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¤„ì˜€ë‹¤.


ë‘ë²ˆì§¸, dfsë¡œ ì¡°í•©ì„ ì„ íƒí•œ ì´í›„ bfsë¥¼ ëŒë ¤ì•¼ ë˜ëŠ”ë° ifë¬¸ìœ¼ë¡œ ë°”ì´ëŸ¬ìŠ¤ê°€ ë‹¤ í™•ì‚° ëëŠ” ì§€ í™•ì¸ì„ í•˜ê³  í™•ì‚°ë˜ì—ˆë‹¤ë©´ ë¦¬í„´, ê²°êµ­ whileë¬¸ì„ ë‹¤ ëŒê³  ë¹ ì ¸ë‚˜ì˜¤ë©´ -1ì„ ë°˜í™˜í•˜ëŠ” ì‹ìœ¼ë¡œ ì½”ë”©ì„ í–ˆë‹¤.


ì´ ë•Œë¬¸ì— ë‹¤ í™•ì‚° ëëŠ”ì§€ í™•ì¸í•˜ëŠ” ì‘ì—…ì„ qì˜ ì›ì†Œë§ˆë‹¤ ì§„í–‰í•˜ê²Œ ë˜ì—ˆê¸°ì— ìµœëŒ€ 2500ë°°ì— ë‹¬í•˜ëŠ” ì‘ì—…ì´ ìˆ˜í–‰ë˜ì—ˆë‹¤. ê·¸ë ‡ê¸°ì— ì±„ìš°ëŠ” ì‘ì—…ì„ ëª¨ë‘ ì§„í–‰ í›„, í™•ì‚° ë˜ì—ˆëŠ”ì§€ í™•ì¸ ì‘ì—…ì€ í•œë²ˆë§Œ í•´ì£¼ì—ˆë‹¤.


ì´ë•Œ, â€œí™œì„±í™”ëœ ë°”ì´ëŸ¬ìŠ¤ê°€ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ ì¹¸ìœ¼ë¡œ ì´ë™ ì‹œ í™œì„±ìœ¼ë¡œ ë³€í•¨â€ ì´ ë¶€ë¶„ ë•Œë¬¸ì— í™œì„±í™” ë°”ì´ëŸ¬ìŠ¤ê°€ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ ì§€ì ì— ë„ë‹¬í•˜ë©´ì„œ ëë‚˜ë²„ë¦¬ë©´ ë°”ì´ëŸ¬ìŠ¤ê°€ í¼ì§€ëŠ”ë° ê±¸ë¦¬ëŠ” ìµœì†Œì‹œê°„ì´ 1 ë” ëŠ˜ì–´ë‚˜ê²Œ ë˜ì—ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ìµœëŒ“ê°’ì„ ì²´í¬í•  ë•Œ ë§Œì•½ í•´ë‹¹ ì¹¸ì´ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ê°€ ìˆë˜ ì¹¸ì´ì—ˆë‹¤ë©´ ìµœëŒ“ê°’ ê³„ì‚°ì—ì„œ ì œì™¸ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•˜ì˜€ë‹¤.


---
layout: post
date: 2024-04-10
title: "[BOJ-Code] 23288 - ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° 2"
tags: [Algorithm-êµ¬í˜„, Algorithm-DFS/BFS, Samsung-Coding]
categories: [Samsungê¸°ì¶œ, CodingTest]
---

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/23288)


> ğŸ’¡ ë„ˆë¹„ ìš°ì„  íƒìƒ‰/ê·¸ë˜í”„ ì´ë¡ /ê·¸ë˜í”„ íƒìƒ‰/êµ¬í˜„/ì‹œë®¬ë ˆì´ì…˜


> **Memory   2028KB                                   Time   8ms                               Code Length   4353B**



{% raw %}
```c++
//ì…ë ¥ : N, M, K ì£¼ì–´ì§
//NxMì˜ ë§µ
//ì¶œë ¥ : ì´ë™ì—ì„œ íšë“í•˜ëŠ” ì ìˆ˜ì˜ í•© ì¶œë ¥

//ì£¼ì‚¬ìœ„ëŠ” ì§€ë„ ìœ„ì— ìœ— ë©´ì´ 1ì´ê³ , ë™ìª½ì„ ë°”ë¼ë³´ëŠ” ë°©í–¥ì´ 3ì¸ ìƒíƒœë¡œ ë†“ì—¬ì ¸ ìˆìœ¼ë©°, ë†“ì—¬ì ¸ ìˆëŠ” ê³³ì˜ ì¢Œí‘œëŠ”(1, 1) ì´ë‹¤.ì§€ë„ì˜ ê° ì¹¸ì—ë„ ì •ìˆ˜ê°€ í•˜ë‚˜ì”© ìˆë‹¤.ê°€ì¥ ì²˜ìŒì— ì£¼ì‚¬ìœ„ì˜ ì´ë™ ë°©í–¥ì€ ë™ìª½
// 1. ì£¼ì‚¬ìœ„ê°€ ì´ë™ ë°©í–¥ìœ¼ë¡œ í•œ ì¹¸ êµ´ëŸ¬ê°„ë‹¤. ë§Œì•½, ì´ë™ ë°©í–¥ì— ì¹¸ì´ ì—†ë‹¤ë©´, ì´ë™ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ í•œ ë‹¤ìŒ í•œ ì¹¸ êµ´ëŸ¬ê°„ë‹¤
// 2. ì£¼ì‚¬ìœ„ê°€ ë„ì°©í•œ ì¹¸ (x, y)ì— ëŒ€í•œ ì ìˆ˜ë¥¼ íšë“í•œë‹¤ // BFSë¡œ í•´ë‹¹ì¹¸ê³¼ ê°™ì€ ì¹¸ ì°¾ê³  ë‹¤ ë”í•¨.
// 3. ì£¼ì‚¬ìœ„ì˜ ì•„ë«ë©´ì— ìˆëŠ” ì •ìˆ˜ Aì™€ ì£¼ì‚¬ìœ„ê°€ ìˆëŠ” ì¹¸ (x, y)ì— ìˆëŠ” ì •ìˆ˜ Bë¥¼ ë¹„êµí•´ ì´ë™ ë°©í–¥ì„ ê²°ì •í•œë‹¤
//	A > Bì¸ ê²½ìš° ì´ë™ ë°©í–¥ì„ 90ë„ ì‹œê³„ ë°©í–¥ìœ¼ë¡œ íšŒì „ì‹œí‚¨ë‹¤.
//	A < Bì¸ ê²½ìš° ì´ë™ ë°©í–¥ì„ 90ë„ ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ íšŒì „ì‹œí‚¨ë‹¤.
//	A = Bì¸ ê²½ìš° ì´ë™ ë°©í–¥ì— ë³€í™”ëŠ” ì—†ë‹¤.

#include<iostream>
#include<cstring>
#include<queue>
using namespace std;

int N, M, K;
int MAP[20][20];
struct loc {
	int y, x;
};
loc diceloc = { 0,0 };
int dice[4][3] =
{
	{0, 2, 0},
	{4, 1, 3},
	{0, 5, 0},
	{0, 6, 0},
}; // ì´ˆê¸° ìœ—ë©´ì€ 1 ì•„ë«ë©´ì€ 6 ë™ìª½ì€ 3 ì„œìª½ì€ 4 ì•„ë«ë©´: dice[3][1]
int score = 0;
int dir = 0; // ì´ˆê¸°ì—” ë™ìª½

int dy[] = { 0,1,0,-1 };
int dx[] = { 1,0,-1,0 };

void dice_move(int dir) {
	// 0 1 2 3 ë™ ë‚¨ ì„œ ë¶ ìœ¼ë¡œ ì¡ìŒ
	if (dir == 0) {
		int tmp = dice[3][1];
		dice[3][1] = dice[1][2];
		dice[1][2] = dice[1][1];
		dice[1][1] = dice[1][0];
		dice[1][0] = tmp;
	}
	else if (dir == 2) {
		int tmp = dice[3][1];
		dice[3][1] = dice[1][0];
		dice[1][0] = dice[1][1];
		dice[1][1] = dice[1][2];
		dice[1][2] = tmp;
	}
	else if (dir == 1) {
		int tmp = dice[0][1];
		dice[0][1] = dice[3][1];
		dice[3][1] = dice[2][1];
		dice[2][1] = dice[1][1];
		dice[1][1] = tmp;
	}
	else if (dir == 3) {
		int tmp = dice[0][1];
		dice[0][1] = dice[1][1];
		dice[1][1] = dice[2][1];
		dice[2][1] = dice[3][1];
		dice[3][1] = tmp;
	}
}

void init() {
	cin >> N >> M >> K;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			cin >> MAP[i][j];
		}
	}
	score = 0;
	dir = 0;
	diceloc = { 0,0 };
}
void getscore(int y, int x) {
	int visited[20][20] = {0};
	queue<loc> q;
	q.push({ y,x });
	visited[y][x] = 1;
	score += MAP[y][x];
	while (!q.empty()) {
		loc now = q.front(); q.pop();
		
		for (int i = 0; i < 4; i++) {
			int ny = now.y + dy[i];
			int nx = now.x + dx[i];
			if (ny >= N || nx >= M || ny < 0 || nx < 0)continue;
			if (visited[ny][nx] == 1) continue;
			if (MAP[y][x] != MAP[ny][nx]) continue;
			visited[ny][nx] = 1;
			score += MAP[y][x];
			q.push({ ny,nx });
		}
	}
}

void changedir(int y, int x) {
	//	A(ì•„ë«ë©´) > B(ì£¼ì‚¬ìœ„ ì¹¸)ì¸ ê²½ìš° ì´ë™ ë°©í–¥ì„ 90ë„ ì‹œê³„ ë°©í–¥ìœ¼ë¡œ íšŒì „ì‹œí‚¨ë‹¤.
	//	A < Bì¸ ê²½ìš° ì´ë™ ë°©í–¥ì„ 90ë„ ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ íšŒì „ì‹œí‚¨ë‹¤.
	//	A = Bì¸ ê²½ìš° ì´ë™ ë°©í–¥ì— ë³€í™”ëŠ” ì—†ë‹¤.
	if (dice[3][1] > MAP[y][x]) {
		dir = (dir + 1) % 4;
	}
	else if (dice[3][1] < MAP[y][x]) {
		dir = (dir + 3) % 4;
	}
}
void printdice() {
	cout << endl;
	for (int i = 0; i < 4; i++) {
		for (int j = 0; j < 3; j++) {
			cout << dice[i][j] << " ";
		}
		cout << endl;
	}
}
void gamestart() {
	// 1. ì£¼ì‚¬ìœ„ê°€ ì´ë™ ë°©í–¥ìœ¼ë¡œ í•œ ì¹¸ êµ´ëŸ¬ê°„ë‹¤. ë§Œì•½, ì´ë™ ë°©í–¥ì— ì¹¸ì´ ì—†ë‹¤ë©´, ì´ë™ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ í•œ ë‹¤ìŒ í•œ ì¹¸ êµ´ëŸ¬ê°„ë‹¤
	int ny = diceloc.y + dy[dir];
	int nx = diceloc.x + dx[dir];
	if (ny >= N || nx >= M || ny < 0 || nx < 0) { // ê²½ê³„ë¥¼ ë„˜ì–´ê°„ë‹¤ë©´
		if (dir == 0) dir = 2;
		else if (dir == 2) dir = 0;
		else if (dir == 1) dir = 3;
		else if (dir == 3) dir = 1;
		ny = diceloc.y + dy[dir];
		nx = diceloc.x + dx[dir];
	}
	dice_move(dir);
	// 2. ì£¼ì‚¬ìœ„ê°€ ë„ì°©í•œ ì¹¸ (x, y)ì— ëŒ€í•œ ì ìˆ˜ë¥¼ íšë“í•œë‹¤ // BFSë¡œ í•´ë‹¹ì¹¸ê³¼ ê°™ì€ ì¹¸ ì°¾ê³  ë‹¤ ë”í•¨.
	getscore(ny, nx);
	// 3. ì£¼ì‚¬ìœ„ì˜ ì•„ë«ë©´ì— ìˆëŠ” ì •ìˆ˜ Aì™€ ì£¼ì‚¬ìœ„ê°€ ìˆëŠ” ì¹¸ (x, y)ì— ìˆëŠ” ì •ìˆ˜ Bë¥¼ ë¹„êµí•´ ì´ë™ ë°©í–¥ì„ ê²°ì •í•œë‹¤
	changedir(ny, nx);

	diceloc.y = ny;
	diceloc.x = nx;

	//printdice();
	//cout << score << endl;
	//cout << diceloc.y<< "," << diceloc.x << endl;
}

int main() {
	init();
	for (int i = 0; i < K; i++) {
		gamestart();
	}
	cout << score << endl;
}
```
{% endraw %}



ì´ ì½”ë“œëŠ” NxM í¬ê¸°ì˜ ë§µì—ì„œ ì´ë™í•˜ë©´ì„œ ì£¼ì‚¬ìœ„ì˜ ìœ— ë©´ê³¼ ì•„ë« ë©´ì— ìˆëŠ” ìˆ«ìë¥¼ ë¹„êµí•˜ì—¬ ë°©í–¥ì„ ê²°ì •í•˜ê³ , ê° ì¹¸ì˜ ìˆ«ìë¥¼ í•©ì‚°í•˜ì—¬ ìµœì¢…ì ìœ¼ë¡œ ì–»ëŠ” ì ìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.

ì£¼ì‚¬ìœ„ëŠ” ì´ˆê¸°ì— ë™ìª½ì„ ë°”ë¼ë³´ë©° (1, 1) ìœ„ì¹˜ì— ìˆê³ , ì´ë™ ë°©í–¥ì— ë”°ë¼ í•œ ì¹¸ì”© ì´ë™í•œë‹¤. ì´ë™ ë°©í–¥ì— ì¹¸ì´ ì—†ì„ ê²½ìš° ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì´ë™í•œë‹¤.

ì£¼ì‚¬ìœ„ê°€ ë„ì°©í•œ ì¹¸ì˜ ìˆ«ìë¥¼ ì ìˆ˜ì— ë”í•œë‹¤. ì´ë•Œ, ê°™ì€ ìˆ«ìë¥¼ ê°–ëŠ” ì¸ì ‘í•œ ì¹¸ë„ ëª¨ë‘ ë”í•´ì•¼ í•œë‹¤.

ì£¼ì‚¬ìœ„ì˜ ì•„ë« ë©´ê³¼ ë„ì°©í•œ ì¹¸ì˜ ìˆ«ìë¥¼ ë¹„êµí•˜ì—¬, ìˆ«ìì— ë”°ë¼ ì´ë™ ë°©í–¥ì„ ì¡°ì •í•œë‹¤. ì£¼ì‚¬ìœ„ì˜ ì•„ë« ë©´ì´ ë” í¬ë©´ ì‹œê³„ ë°©í–¥ìœ¼ë¡œ, ì‘ìœ¼ë©´ ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ íšŒì „í•œë‹¤. ê°™ìœ¼ë©´ ë°©í–¥ì„ ìœ ì§€í•œë‹¤.

ì´ëŸ¬í•œ ê³¼ì •ì„ Kë²ˆ ë°˜ë³µí•œ í›„, ì–»ì€ ì ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

